{% load i18n %}
{% load template_tags %}

<!-- ko ifnot: $data.search -->
<div class="node-config-item">
    <div class="control-label">
        <span data-bind="text: $root.translations.conceptCollection"></span>
    </div>
    <div data-bind="if: conceptCollections().length > 0">
        <select 
            data-bind="
                disable: isEditable === false, 
                options: conceptCollections, 
                optionsText: 'label', 
                optionsValue: 'id', 
                select2Query: {
                    select2Config:{
                        value: topConcept,
                        allowClear: true,
                        placeholder: $root.translations.selectAConceptCollection, 
                }},
                attr: {'data-label': $root.translations.conceptCollection}
            "
        ></select>
    </div>
</div>
<!-- /ko -->

<!-- ko if: $data.search -->
<div class="col-md-4 col-lg-3">
    <select 
        class="resources" 
        data-bind="
            optionsText: 'text',
            optionsValue: 'value',
            options: [
                { text: $root.translations.equals, value: 'eq' },
                { text: $root.translations.not, value: '!eq' },
                { text: $root.translations.hasNoValue, value: 'null' },
                { text: $root.translations.hasAnyValue, value: 'not_null' },
            ],
            select2Query: {
                select2Config:{
                    value: op,
                    allowClear: false,
                    minimumResultsForSearch: -1
            }},
            attr: {'data-label': $root.translations.searchCriteria},
        "
    ></select>
</div>

<div class="col-md-8 col-lg-9" data-bind="visible: op() !== 'null' && op() !== 'not_null'">
    <select style="display:inline-block;"
        data-bind="
        select2Query: {
            value: searchValue,
            select2Config: select2Config
        }
        ">
    </select>
</div>
<!-- /ko -->
