{% load i18n %}
{% load template_tags %}

<!-- ko ifnot: $data.search -->
<div class="node-config-item">
    <div class="control-label">
        <span data-bind="text: $root.translations.conceptCollection"></span>
    </div>
    <div data-bind="if: conceptCollections().length > 0">
        <select 
            data-bind="
                disable: isEditable === false, 
                placeholder: trans.selectAConceptCollection, 
                value: topConcept, 
                options: conceptCollections, 
                optionsText: 'label', 
                optionsValue: 'id', 
                chosen: {width: '100%', allow_single_deselect: true}
            "
        ></select>
    </div>
</div>
<!-- /ko -->

<!-- ko if: $data.search -->
<div class="col-md-4 col-lg-3">
    <select class="resources" data-bind="value: op, chosen: {width: '100%', disable_search_threshold: 15}">
        <option value="">        
            <span data-bind="text: $root.translations.equals"></span>
        </option>
        <option value="!">
            <span data-bind="text: $root.translations.not"></span>
        </option>
        <option value="null">
            <span data-bind="text: $root.translations.hasNoValue"></span>
        </option>
        <option value="not_null">
            <span data-bind="text: $root.translations.hasAnyValue"></span>
        </option>
    </select>
</div>

<div class="col-md-8 col-lg-9" data-bind="visible: op() !== 'null' && op() !== 'not_null'">
    <input style="display:inline-block;"
        data-bind="
            value: searchValue,
            select2Query: {
                select2Config: select2Config
            }
        ">
    <span style="z-index: 100; position:absolute; right: 24px; top: 8px;" data-bind="visible: select2Config.isEmpty() === false, click: function(){select2Config.clear();}"><i class="fa fa-times-circle fa-lg"></i></span>
</div>
<!-- /ko -->
