{% extends "base-manager.htm" %}
{% load i18n %}
{% load staticfiles %}

{% block title %} {{ block.super }} {% trans "Recent Edits" %} {% endblock title %}


{% block main_content %}

    <div class="pad-all">
        <div class="resource-grid-title">{% trans "Recently Added Resources" %}</div>
        <div class="recent-additions-container">
            <table data-bind="datatable: resourceTableConfig" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>{% trans "Resource Id" %}</th>
                        <th>{% trans "Resource Name" %}</th>
                        <th>{% trans "Resource Type" %}</th>
                        <th class="min-desktop">{% trans "Edited" %}</th>
                        <th>{% trans "Edit Type" %}</th>
                        <th>{% trans "Editor" %}</th>
                        <th class="min-tablet"></th>
                    </tr>
                </thead>
                <tbody>
                    {% for edit in recent_edits %}
                    <tr>
                        <td><a href="{% url 'resource_editor' edit.resourceinstanceid %}" class="regular-link" target="_blank">{{edit.resourceinstanceid}}</a></td>
                        <td>{{edit.displayname}}</td>
                        <td>{{edit.resource_model_name}}</td>
                        <td>{{edit.timestamp}}</td>
                        <td>{{edit.friendly_edittype}}</td>
                        <td>{{edit.user_email}}</td>
                        <td>
                            <a href="{% url 'resource_report' edit.resourceinstanceid %}" target="_blank" class="btn btn-primary">{% trans "View Report" %}</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock main_content %}
